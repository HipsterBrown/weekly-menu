{"mappings":"6YAAA,IAAAA,EAAAC,EAAA,S,wGASA,MAAMC,EAAyB,KAC7B,EAAAF,EAAAG,KAACC,EAAAC,KAAI,C,SAAC,8EAKFC,EAAuB,KAC3B,EAAAN,EAAAO,MAACH,EAAAI,WAAU,CAACC,SAAS,IAAIC,SAAS,Q,WAChC,EAAAV,EAAAG,KAACC,EAAAO,SAAQ,CAACC,OAAO,UACjB,EAAAZ,EAAAG,KAACC,EAAAO,SAAQ,CAACC,OAAO,UACjB,EAAAZ,EAAAG,KAACC,EAAAO,SAAQ,CAACC,OAAO,UACjB,EAAAZ,EAAAG,KAACC,EAAAO,SAAQ,CAACC,OAAO,UACjB,EAAAZ,EAAAG,KAACC,EAAAO,SAAQ,CAACC,OAAO,UACjB,EAAAZ,EAAAG,KAACC,EAAAO,SAAQ,CAACC,OAAO,UACjB,EAAAZ,EAAAG,KAACC,EAAAO,SAAQ,CAACC,OAAO,YAIfC,GAAwB,EAAAC,EAAAC,sBAAoB,EAAAf,EAAAG,KAACD,EAAY,K,IAkC/Dc,EAhCkC,KAChC,MAAMC,GAAW,EAAAC,EAAAC,kBACXC,GAAc,EAAAC,EAAAC,QAAOL,EAAU,UAC/BM,GAAO,EAAAC,EAAAC,YAAWR,EAASS,WAC3BC,SAAEA,EAAQC,SAAEA,IAAa,EAAAV,EAAAW,mBAIzBC,QAAEA,EAAOC,MAAEA,IAAU,EAAAP,EAAAQ,cAQ3B,OANA,EAAAC,EAAAC,YAAU,KACJP,GAAYC,GACdG,EAAMJ,EAAUC,EAAS,GAE1B,CAACD,EAAUC,KAGZ,EAAA5B,EAAAO,MAACH,EAAA+B,IAAG,CAACC,EAAE,I,WACL,EAAApC,EAAAO,MAACH,EAAAiC,QAAO,CAACC,GAAG,IAAIC,GAAG,I,UAAI,iBACNnB,MAEjB,EAAApB,EAAAG,KAACU,EAAqB,C,UACpB,EAAAb,EAAAG,KAACqC,EAAAC,QAAoB,C,UACnB,EAAAzC,EAAAG,KAAC8B,EAAAS,SAAQ,CAACC,UAAU,EAAA3C,EAAAG,KAACG,EAAU,I,UAC7B,EAAAN,EAAAG,KAACyC,EAAAH,QAAI,CAAClB,KAAMA,SAHUO,GAASe,QAOjC,C","sources":["src/components/DisplayModePage.tsx"],"sourcesContent":["import React, { Suspense, useEffect } from \"react\";\nimport { Box, Heading, SimpleGrid, Skeleton, Text } from \"@chakra-ui/react\";\nimport { format } from \"date-fns\";\nimport { useQueryDB, useSession } from \"../db\";\nimport { getMenuDateFor, useQueryParams } from \"../utils\";\nimport SessionErrorBoundary from \"./SessionErrorBoundary\";\nimport { createErrorBoundary } from \"./NotFoundErrorBoundary\";\nimport Menu from \"./Menu\";\n\nconst MenuFallback: React.FC = () => (\n  <Text>\n    No menu found for this week. Please add menu items on a different device.\n  </Text>\n);\n\nconst MenuLoader: React.FC = () => (\n  <SimpleGrid spacingY=\"3\" maxWidth=\"300px\">\n    <Skeleton height=\"30px\" />\n    <Skeleton height=\"30px\" />\n    <Skeleton height=\"30px\" />\n    <Skeleton height=\"30px\" />\n    <Skeleton height=\"30px\" />\n    <Skeleton height=\"30px\" />\n    <Skeleton height=\"30px\" />\n  </SimpleGrid>\n);\n\nconst NotFoundErrorBoundary = createErrorBoundary(<MenuFallback />);\n\nconst DisplayModePage: React.FC = () => {\n  const menuDate = getMenuDateFor();\n  const currentWeek = format(menuDate, \"MMM do\");\n  const menu = useQueryDB(menuDate.toJSON());\n  const { username, password } = useQueryParams<{\n    username: string;\n    password: string;\n  }>();\n  const { session, login } = useSession();\n\n  useEffect(() => {\n    if (username && password) {\n      login(username, password);\n    }\n  }, [username, password]);\n\n  return (\n    <Box p=\"3\">\n      <Heading mt=\"0\" mb=\"4\">\n        Weekly Menu - {currentWeek}\n      </Heading>\n      <NotFoundErrorBoundary key={session?.name}>\n        <SessionErrorBoundary>\n          <Suspense fallback={<MenuLoader />}>\n            <Menu menu={menu} />\n          </Suspense>\n        </SessionErrorBoundary>\n      </NotFoundErrorBoundary>\n    </Box>\n  );\n};\n\nexport default DisplayModePage;\n"],"names":["$k4ank","parcelRequire","$713aed745208d714$var$MenuFallback","jsx","$37woU","Text","$713aed745208d714$var$MenuLoader","jsxs","SimpleGrid","spacingY","maxWidth","Skeleton","height","$713aed745208d714$var$NotFoundErrorBoundary","$hmWjK","createErrorBoundary","$713aed745208d714$export$2e2bcd8739ae039","menuDate","$8Xs7T","getMenuDateFor","currentWeek","$80TUu","format","menu","$fiQoM","useQueryDB","toJSON","username","password","useQueryParams","session","login","useSession","$8T3gX","useEffect","Box","p","Heading","mt","mb","$1k9WB","default","Suspense","fallback","$hXCME","name"],"version":3,"file":"DisplayModePage.3d51f0d4.js.map"}