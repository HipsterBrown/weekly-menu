{"mappings":"6YAAA,IAAAA,EAAAC,EAAA,oGAaA,MAAMC,EAAcC,EAAAC,OAAW,CAC7BC,SAAUF,EAAAG,SAAaC,WACvBC,SAAUL,EAAAG,SAAaC,iBAqDzBE,EAlD4B,KAC1B,MAAMC,EAAWC,EAAAC,eAnBnBC,QAoBUA,EApBVC,QAoBmBA,EApBnBC,MAoB4BA,GAAUC,EAAAC,aAUpC,OAJAC,EAAAC,WAAU,KACJN,GAASO,MAAMV,EAAS,OAC3B,CAACG,GAASO,OAGXpB,EAAAqB,KAACC,EAAAC,WAAU,CAACC,SAAQ,IAAKC,SAAQ,QAASC,GAAE,OAAQC,EAAC,cACnD3B,EAAA4B,IAACN,EAAAO,QAAO,CAhCdC,SAAA,UAiCOjB,GAASO,KACRpB,EAAAqB,KAAArB,EAAA+B,SAAA,WACE/B,EAAAqB,KAACC,EAAAU,KAAI,CAACC,GAAE,yBAAcpB,EAAQO,QAC9BpB,EAAA4B,IAACN,EAAAU,KAAI,CAACC,GAAE,IApClBH,SAAA,8BAuCQ9B,EAAA4B,IAACM,EAAAC,OAAM,CACLC,cAAe,CAAE/B,SAAU,GAAIG,SAAU,IACzC6B,iBAAkBnC,EAClBoC,gBAAgB,EAChBC,kBAAkB,EAClBC,SAtBeC,OAtBzBpC,SAsBkCA,EAtBlCG,SAsB4CA,YAClCO,EAAMV,EAAUG,IAvB1BsB,SA8CU9B,EAAA4B,IAACM,EAAAQ,KAAI,CA9CfZ,SA+CY9B,EAAAqB,KAACC,EAAAC,WAAU,CAACC,SAAQ,cAClBxB,EAAA4B,IAACe,EAAAC,QAAU,CAACxB,KAAI,WAAYyB,MAAK,aACjC7C,EAAA4B,IAACe,EAAAC,QAAU,CAACxB,KAAI,WAAYyB,MAAK,WAAYC,KAAI,aACjD9C,EAAA4B,IAACN,EAAAyB,OAAM,CACLD,KAAI,SACJE,YAAW,OACXC,MAAK,OACLxB,SAAU,CAAC,KAAM,SACjByB,WAAYpC,EACZqC,UAAWrC,EAxD3BgB,SAAA","sources":["src/components/LoginPage.tsx"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { Button, Heading, SimpleGrid, Text } from \"@chakra-ui/react\";\nimport { Formik, Form } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useNavigate } from \"react-router\";\nimport { useSession } from \"../db\";\nimport InputGroup from \"./InputGroup\";\n\ntype LoginValues = {\n  username: string;\n  password: string;\n};\n\nconst LoginSchema = Yup.object({\n  username: Yup.string().required(),\n  password: Yup.string().required(),\n});\n\nconst LoginPage: React.FC = () => {\n  const navigate = useNavigate();\n  const { session, loading, login } = useSession();\n\n  const loginAndGoHome = async ({ username, password }: LoginValues) => {\n    await login(username, password);\n  };\n\n  useEffect(() => {\n    if (session?.name) navigate(\"/\");\n  }, [session?.name]);\n\n  return (\n    <SimpleGrid spacingY=\"3\" maxWidth=\"600px\" mx=\"auto\" p=\"3\">\n      <Heading>Login</Heading>\n      {session?.name ? (\n        <>\n          <Text as=\"p\">Welcome {session.name}</Text>\n          <Text as=\"p\">Redirecting to home...</Text>\n        </>\n      ) : (\n        <Formik<LoginValues>\n          initialValues={{ username: \"\", password: \"\" }}\n          validationSchema={LoginSchema}\n          validateOnBlur={false}\n          validateOnChange={false}\n          onSubmit={loginAndGoHome}\n        >\n          <Form>\n            <SimpleGrid spacingY=\"3\">\n              <InputGroup name=\"username\" label=\"Username\" />\n              <InputGroup name=\"password\" label=\"Password\" type=\"password\" />\n              <Button\n                type=\"submit\"\n                colorScheme=\"pink\"\n                width=\"100%\"\n                maxWidth={[null, \"10rem\"]}\n                isDisabled={loading}\n                isLoading={loading}\n              >\n                Save\n              </Button>\n            </SimpleGrid>\n          </Form>\n        </Formik>\n      )}\n    </SimpleGrid>\n  );\n};\n\nexport default LoginPage;\n"],"names":["$k4ank","parcelRequire","$4ca131af693bfbf1$var$LoginSchema","$aNkVi","object","username","string","required","password","$4ca131af693bfbf1$export$2e2bcd8739ae039","navigate","$aR93f","useNavigate","session","loading","login","$fiQoM","useSession","$8T3gX","useEffect","name","jsxs","$37woU","SimpleGrid","spacingY","maxWidth","mx","p","jsx","Heading","children","Fragment","Text","as","$g2LMr","Formik","initialValues","validationSchema","validateOnBlur","validateOnChange","onSubmit","async","Form","$1xLD5","default","label","type","Button","colorScheme","width","isDisabled","isLoading"],"version":3,"file":"LoginPage.7179c218.js.map"}